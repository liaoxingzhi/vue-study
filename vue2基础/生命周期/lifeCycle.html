<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>生命周期</title>
</head>
<body>
<div id="app">

</div>
<script src="../../static/js/vue.js"></script>
<script>
    // 创建vue实例
    new Vue({
        el: '#app',    // 提供一个在页面上已存在的 DOM 元素作为 Vue 实例的挂载目标
        // TODO 生命周期
        // ps:钩子函数是Vue框架中内置的一些函数，随着Vue的生命周期阶段，自动执行（特定的时间，执行特定的操作）

        // 1.在实例初始化之后，数据观测(data observer)和event/watcher事件配置之前被调用
        beforeCreate() {
            console.log('即将创建')
        },
        // 2.在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，$el属性目前不可见
        created() {
            console.log('创建完毕')
        },
        // 3.在挂载开始之前被调用：相关的render函数首次被调用
        beforeMount() {
            console.log('即将挂载')
        },
        // 4.el被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子，如果root实例挂载了一个文档内元素，当mounted被调用时vm.$el也在文档内
        mounted() {
            // 此钩子用来做初始化工作：发送ajax请求、启动定时器、绑定自定义事件、订阅消息等
            console.log('挂载完毕')
        },
        // 5.数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的DOM，比如手动移除已添加的事件监听器，该钩子在服务器端渲染期间不被调用，因为只有初次渲染会在服务端进行
        beforeUpdate() {
            console.log('即将更新')
        },
        // 6.由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子
        updated() {
            console.log('更新完毕')
        },
        // 7.实例销毁之前调用。在这一步，实例仍然完全可用。该钩子在服务器端渲染期间不被调用
        beforeDestroy() {
            // 此钩子用来做收尾工作：清除定时器、解绑自定义事件、取消订阅消息等
            console.log('即将销毁')
        },
        // 8.Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用
        destroyed() {
            console.log('销毁完毕')
        },

        // 3个组件相关的钩子函数
        // keep-alive 组件激活时调用。该钩子在服务器端渲染期间不被调用
        activated() {},
        // keep-alive 组件停用时调用。该钩子在服务器端渲染期间不被调用
        deactivated() {},
        // 当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串，此钩子可以返回false以阻止该错误继续向上传播
        errorCaptured() {}
    })
</script>
</body>
</html>